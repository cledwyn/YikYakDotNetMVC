@model List<YikYakDotNetMVC.Models.Yak>
@{
    ViewBag.Title = "Home Page";
}

@section imports{
    <link rel="import" href="~/bower_components/google-map/google-map.html">
}


<google-map latitude="44.93914" longitude="-93.1685" zoom="14"fit>
    @foreach (var item in Model) { 
    <google-map-marker latitude="@item.Latitude" longitude="@item.Longitude"  title="@item.Time" >
        @item.Message
    </google-map-marker>
    }
</google-map>

<google-map-directions startaddress="San Francisco" endaddress="Mountain View"></google-map-directions>

<button id="controlsToggle" onclick="toggleControls()">Toggle controls</button>

@section scripts{
<script>
        var gmap = document.querySelector('google-map');
        gmap.addEventListener('api-load', function (e) {
            document.querySelector('google-map-directions').map = this.map;
        });

        function toggleControls() {
            gmap.disableDefaultUI = !gmap.disableDefaultUI;
        }
</script>
}